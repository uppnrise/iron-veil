tls:
  enabled: false
  cert_path: "certs/server.crt"
  key_path: "certs/server.key"

upstream_tls: false

# OpenTelemetry Configuration
# Traces are exported to an OTLP-compatible collector (Jaeger, Grafana Tempo, etc.)
telemetry:
  enabled: false
  otlp_endpoint: "http://localhost:4317"
  service_name: "iron-veil"

# Management API Configuration
api:
  # API key for authenticating management API requests.
  # If set, all sensitive endpoints require `X-API-Key` header.
  # Uncomment and set a secure key for production use:
  # api_key: "your-secure-api-key-here"
  
  # JWT secret for token-based authentication.
  # If set, endpoints also accept `Authorization: Bearer <token>` header.
  # Uncomment and set a secure secret for production use:
  # jwt_secret: "your-jwt-secret-here"

# Connection Limits
limits:
  # Maximum number of concurrent connections (default: unlimited)
  # max_connections: 1000
  
  # Rate limit: max new connections per second (default: unlimited)
  # connections_per_second: 100
  
  # Timeout for establishing upstream connection in seconds (default: 30)
  # connect_timeout_secs: 30
  
  # Idle timeout - close connection after no activity in seconds (default: 300)
  # idle_timeout_secs: 300

rules:
  - table: "users"
    column: "email"
    strategy: "email"
  - table: "users"
    column: "phone_number"
    strategy: "phone"
  - column: "address" # Global rule for any column named "address"
    strategy: "address"
